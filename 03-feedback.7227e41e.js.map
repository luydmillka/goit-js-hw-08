{"mappings":"AACA,MAAMA,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAGrC,IAAIG,EAAW,GAEfN,EAAKC,KAAKM,iBAAiB,UAK3B,SAAsBC,GAClBA,EAAIC,iBACJC,QAAQC,IAAIC,KAAKC,MAAMC,aAAaC,QAAQ,yBAC5CP,EAAIQ,cAAcC,QAClBH,aAAaI,WAAW,uBACxBZ,EAAW,E,IATfN,EAAKC,KAAKM,iBAAiB,SAY3B,SAA0BC,GAEtB,MAAMW,EAAkBL,aAAaC,QAAQ,uBACvCK,EAAmBR,KAAKC,MAAMM,GAEhCC,IACIA,EAAiBC,QACrBf,EAASe,MAAQD,EAAiBC,OAE9BD,EAAiBE,UACrBhB,EAASgB,QAAUF,EAAiBE,UAIxC,MAAMC,EAAaf,EAAIgB,OAAOC,MAC9BnB,EAASE,EAAIgB,OAAOE,MAAQH,EAE5B,MAAMI,EAAsBf,KAAKgB,UAAUtB,GAC3CQ,aAAae,QAAQ,sBAAuBF,GAC5CjB,QAAQC,IAAIL,E,IAGhB,WACI,MAAMa,EAAkBL,aAAaC,QAAQ,uBACvCK,EAAmBR,KAAKC,MAAMM,GAEhCC,IACIA,EAAiBC,QACrBrB,EAAKI,MAAMqB,MAAQL,EAAiBC,OAEhCD,EAAiBE,UACrBtB,EAAKK,SAASoB,MAAQL,EAAiBE,S,CAzC/CQ","sources":["src/js/03-feedback.js"],"sourcesContent":["\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('.feedback-form input'),\n    textarea: document.querySelector('.feedback-form textarea')\n}\n\nlet formData = {};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', onFormFieldInput);\n\nonFormReloaded();\n\nfunction onFormSubmit(evt) { \n    evt.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")));\n    evt.currentTarget.reset();\n    localStorage.removeItem(\"feedback-form-state\");\n    formData = {};\n}\n\nfunction onFormFieldInput(evt) {\n\n    const savedFormFields = localStorage.getItem(\"feedback-form-state\");\n    const parcedFormFields = JSON.parse(savedFormFields);\n\n    if (parcedFormFields) {\n        if (parcedFormFields.email) {\n        formData.email = parcedFormFields.email;\n        }\n        if (parcedFormFields.message) {\n        formData.message = parcedFormFields.message;\n        }\n    }\n\n    const inputValue = evt.target.value;\n    formData[evt.target.name] = inputValue;\n\n    const formDataStringifyed = JSON.stringify(formData);\n    localStorage.setItem(\"feedback-form-state\", formDataStringifyed);\n    console.log(formData)\n }\n\nfunction onFormReloaded() {\n    const savedFormFields = localStorage.getItem(\"feedback-form-state\");\n    const parcedFormFields = JSON.parse(savedFormFields);\n\n    if (parcedFormFields) {\n        if (parcedFormFields.email) {\n        refs.input.value = parcedFormFields.email;\n        }\n        if (parcedFormFields.message) {\n        refs.textarea.value = parcedFormFields.message;\n        }\n    }\n }\n\n\n"],"names":["$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","$945622fd0f572e60$var$formData","addEventListener","evt","preventDefault","console","log","JSON","parse","localStorage","getItem","currentTarget","reset","removeItem","savedFormFields","parcedFormFields","email","message","inputValue","target","value","name","formDataStringifyed","stringify","setItem","$945622fd0f572e60$var$onFormReloaded"],"version":3,"file":"03-feedback.7227e41e.js.map"}